<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ê³„ê¸‰ì¥ í‚¤ìš°ê¸°</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  background:#111;
  color:white;
  font-family:system-ui;
  display:flex;
  justify-content:center;
}
#game{
  width:420px;
  background:#1b1b1b;
  padding:12px;
}
.box{
  background:#222;
  margin:6px 0;
  padding:10px;
  border-radius:10px;
}
button{
  width:100%;
  padding:10px;
  background:#3a7;
  border:none;
  border-radius:8px;
  font-size:16px;
  font-weight:bold;
}
button:active{transform:scale(.98)}
h2{text-align:center;margin:5px 0}
.bar{
  height:18px;
  background:#333;
  border-radius:10px;
  overflow:hidden;
}
.fill{
  height:100%;
  background:linear-gradient(90deg,#3f7,#0ff);
}
.stat{
  display:flex;
  justify-content:space-between;
}
</style>
</head>
<body>

<div id="game">
<h2>ğŸ– ê³„ê¸‰ì¥ í‚¤ìš°ê¸°</h2>

<div class="box">
  <div class="stat"><span>ê³„ê¸‰</span><span id="rank">ì´ë“±ë³‘</span></div>
  <div class="stat"><span>ì „íˆ¬ë ¥</span><span id="power">10</span></div>
  <div class="stat"><span>ê³¨ë“œ</span><span id="gold">0</span></div>
  <div class="stat"><span>ë³´ì„</span><span id="gem">0</span></div>
</div>

<div class="box">
  <b>ìŠ¤í…Œì´ì§€</b> <span id="stage">1</span>
  <div class="bar"><div id="hpBar" class="fill"></div></div>
  <button onclick="attack()">âš” ê³µê²©</button>
</div>

<div class="box">
  <button onclick="upgrade()">ğŸ”§ ê°•í™” (ë¹„ìš©: <span id="upCost">50</span>G)</button>
</div>

<div class="box">
  <button onclick="mobilize()">ğŸš¨ ë™ì›ë ¹ (ì¿¨íƒ€ì„ 30ì´ˆ)</button>
</div>

<div class="box">
  <button onclick="quest()">ğŸ“œ í€˜ìŠ¤íŠ¸ ìˆ˜í–‰</button>
</div>

</div>

<script>
let rankNames=["ì´ë“±ë³‘","ì¼ë“±ë³‘","ìƒë³‘","ë³‘ì¥","í•˜ì‚¬","ì¤‘ì‚¬","ìƒì‚¬","ì›ì‚¬","ì†Œìœ„","ì¤‘ìœ„","ëŒ€ìœ„","ì†Œë ¹","ì¤‘ë ¹","ëŒ€ë ¹","ì¤€ì¥","ì†Œì¥","ì¤‘ì¥","ëŒ€ì¥"];
let stage=1;
let maxHP=100;
let hp=100;
let atk=10;
let gold=0;
let gem=0;
let upCost=50;
let rank=0;
let mobilizeCooldown=false;

function update(){
  document.getElementById("stage").innerText=stage;
  document.getElementById("power").innerText=atk;
  document.getElementById("gold").innerText=gold;
  document.getElementById("gem").innerText=gem;
  document.getElementById("rank").innerText=rankNames[rank];
  document.getElementById("upCost").innerText=upCost;
  document.getElementById("hpBar").style.width=(hp/maxHP*100)+"%";
}

function attack(){
  hp-=atk;
  if(hp<=0){
    stage++;
    let reward=Math.floor(30+stage*10);
    gold+=reward;
    if(Math.random()<0.25) gem++;
    if(stage%5==0 && rank<rankNames.length-1) rank++;
    maxHP=Math.floor(120+stage*25);
    hp=maxHP;
  }
  update();
}

function upgrade(){
  if(gold<upCost) return alert("ê³¨ë“œ ë¶€ì¡±!");
  gold-=upCost;
  atk+=Math.floor(atk*0.25)+5;
  upCost=Math.floor(upCost*1.6);
  update();
}

function mobilize(){
  if(mobilizeCooldown) return alert("ë™ì›ë ¹ ì¬ì‚¬ìš© ëŒ€ê¸°ì¤‘!");
  mobilizeCooldown=true;
  atk*=3;
  setTimeout(()=>{atk=Math.floor(atk/3);},10000);
  setTimeout(()=>{mobilizeCooldown=false;},30000);
  update();
}

function quest(){
  let g=50+Math.floor(Math.random()*100);
  let gm=Math.random()<0.4?1:0;
  gold+=g;
  gem+=gm;
  alert(`í€˜ìŠ¤íŠ¸ ì™„ë£Œ!\nê³¨ë“œ +${g}\në³´ì„ +${gm}`);
  update();
}

update();
</script>

</body>
</html>
